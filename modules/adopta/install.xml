<?xml version="1.0" encoding="utf-8" ?>
<module type="plugin" name="adopta">
	<title>Adopta</title>
	<summary>Adds basic shopping cart functionality to manage products and sell them</summary>
	<author>Intelliants LLC</author>
	<contributor>Intelliants LLC</contributor>
	<version>4.1.0</version>
	<date>2017-02-09</date>
	<compatibility>4.1.0</compatibility>

	<actions>
		<action name="pet_categs" url="shopping-cart/categories/" icon="list-2" order="1" pages="pet_items"><![CDATA[]]></action>
		<action name="pet_items" url="shopping-cart/items/" icon="list" order="2" pages="pet_categs"><![CDATA[]]></action>
		<action name="cart_categ_add" url="shopping-cart/categories/add/" icon="folder-plus" order="3" pages="pet_categs"><![CDATA[]]></action>
		<action name="cart_item_add" url="shopping-cart/items/add/" icon="plus-alt" order="3" pages="pet_items"><![CDATA[]]></action>
	</actions>

	<adminpages>
		<page group="content" menus="menu" order="105">Adopta</page>

		<page name="pet_categs" group="content" url="shopping-cart/categories/" filename="categories" menus="menu" order="115">Categories</page>
		<page name="pet_items" group="content" url="shopping-cart/items/" filename="items" menus="menu" order="120">Items</page>
	</adminpages>

	<pages>
		<page name="adopta" url="adopta/" menus="inventory" order="2">Adopta</page>
	</pages>

	<phrases>
		<phrase category="admin" key="pet_categs">Cart categories</phrase>
		<phrase category="admin" key="cart_categ_add">Add category</phrase>
		<phrase category="admin" key="cart_categ_edit">Edit category</phrase>
		<phrase category="admin" key="cart_incorrect_categ">Category is not selected.</phrase>
		<phrase category="admin" key="cart_item_add">Add item</phrase>
		<phrase category="admin" key="cart_item_edit">Edit item</phrase>
		<phrase category="admin" key="pet_items">Cart items</phrase>
		<phrase category="admin" key="cart_item_added">Cart item is added.</phrase>
		<phrase category="admin" key="cart_item_deleted">Cart item is removed.</phrase>
		<phrase category="admin" key="pet_items_deleted">Cart items are removed.</phrase>
		<phrase category="admin" key="cart_categ_added">Cart category is added.</phrase>
		<phrase category="admin" key="cart_categ_deleted">Cart category is removed.</phrase>
		<phrase category="admin" key="pet_categs_deleted">Cart categories are removed.</phrase>
		<phrase category="admin" key="cart_are_you_sure_to_delete_selected_categ">Are you sure to delete selected category?</phrase>
		<phrase category="admin" key="cart_are_you_sure_to_delete_selected_categs">Are you sure to delete selected categories?</phrase>
		<phrase category="admin" key="error_cart_item_number_days">Wrong days number.</phrase>
		<phrase category="admin" key="products">products</phrase>
		<phrase category="admin" key="adopta">Adopta</phrase>
		<phrase category="admin" key="wrong_categ">Wrong Category selected.</phrase>

		<phrase category="frontend" key="no_items">No items</phrase>
		<phrase category="frontend" key="checkout">Checkout</phrase>
		<phrase category="frontend" key="none">None</phrase>
		<phrase category="frontend" key="price">Price</phrase>
		<phrase category="frontend" key="product">Product</phrase>
		<phrase category="frontend" key="products_in_cart">Products in cart</phrase>
		<phrase category="frontend" key="uncheck_items">Uncheck items</phrase>
		<phrase category="frontend" key="buy_this_item">Buy this item</phrase>

		<phrase category="common" key="cart_purchase">Cart purchase</phrase>
	</phrases>

	<configgroup name="adopta">Adopta</configgroup>
	<config group="adopta" name="shopping_cart_plugin" type="divider">General</config>
	<config group="adopta" name="shopping_cart_popup" type="radio" values="1,0" description="Enable popup box on Order page">1</config>

	<hooks>
		<hook name="adminDashboardStatistics" page_type="admin" pages="index"><![CDATA[$items['adopta:cartitem'] = 'plugin';]]></hook>
	</hooks>

	<install>
		<sql>
			<![CDATA[
CREATE TABLE `{prefix}pet_categs`(
	`id` smallint(4) unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`image` tinytext NOT NULL,
	`order` int(4) NOT NULL,
	`status` enum('active', 'inactive') NOT NULL default 'active'
) {mysql_version};
			]]>
		</sql>
		<sql>
			<![CDATA[
CREATE TABLE `{prefix}pet_items`(
	`id` int(4) unsigned NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`cid` smallint(4) unsigned NOT NULL,
	`image` tinytext NOT NULL,
	`days` int(6) unsigned NOT NULL,
	`cost` decimal(8,2) unsigned NOT NULL,
	`order` int(4) NOT NULL,
	`status` enum('active', 'inactive') NOT NULL default 'active',
	`name` VARCHAR(20) NOT NULL AFTER `id`,
	`member_id` INT(11) UNSIGNED NULL AFTER`status`,
	`age` INT(3) NULL AFTER `member_id`,
	`age_type` ENUM('months','years') NULL DEFAULT 'months' AFTER `age`,
	`gender` ENUM('male','female') NULL DEFAULT 'male' AFTER`age_type`,
	`state_id` INT(8) NULL AFTER `gender`,
	`city_id` INT(9)NULL AFTER `state_id`,
	`description` TEXT NOT NULL AFTER`city_id`
) {mysql_version};
			]]>
		</sql>
	</install>

	<uninstall>
		<sql>
			<![CDATA[
DROP TABLE `{prefix}pet_categs`, `{prefix}pet_items`;
			]]>
		</sql>
	</uninstall>
</module>